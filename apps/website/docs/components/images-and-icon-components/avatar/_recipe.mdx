import clsx from 'clsx';
import UserIcon from '@prism2/icons/interstate/user.svg';

export const defaultArgs = {
  label: 'WW',
  size: 'lg',
  style: 'icon',
  clickable: false,
}

export const argTypes = {
  label: {
    control: { 
      type: 'text',
      maxLength: 2,
      className: "w-12"
    },
  },
  size: {
    control: { 
      type: 'select', 
      options: ['xs', 'sm', 'md', 'lg'] 
    },
  },
  style: {
    control: {
      type: 'select',
      options: ['icon', 'text', 'image']
    }
  },
  clickable: {
    label: 'Is Clickable?',
    control: { type: 'boolean' },
  },
};

export const renderFn = ({ label, clickable, size, style }) => {
  const styles = {
    '--bg-img': "url('https://picsum.photos/id/64/128')"
  }
  return (
    <div
      className={clsx(
        'avatar',
        `avatar-${size}`,
        clickable && 'avatar-clickable',
        style === 'image' && 'avatar-img'
      )}
      style={styles}
    >
      { style === "text" && <span>{label}</span> }
      { style === "icon" && <UserIcon className="avatar-icon" /> }
    </div>
  )
}

export const AvatarKitchen = (props) => (
  <Kitchen
    args={defaultArgs}
    argTypes={argTypes}
    render={renderFn}
    {...props}
  />
)

## Definition

An avatar is a representation of an individual user. It can be used as a link to 
an individual’s account content.

An avatar should contain a scalable image of the user. If an image is not 
available, the avatar should display the user’s first and last initials. If 
neither is available, the avatar should display a generic person icon.

## Ingredients

Avatars are made up of a combination of elements and classes. The styles will be 
made up of **Required**, **Selectable**, and **Optional** classes.

### Required

- `.avatar` - An element that contains the initials as text

### Selectable

#### sizes

Avatar is available in a specific range of sizes (XS - LG) and uses the following class names:

- `.avatar-xs` - Extra Small
- `.avatar-sm` - Small
- `.avatar-md` - Medium
- `.avatar-lg` - Large

### Optional

#### variant

- `.avatar-img` - A background image within the url in the wrapper
- `.avatar-icon` - A child element which specifies the icon
- `.avatar-clickable` - Used when the Avatar is actionable.

## Directions

### Avatar with an Icon

When an Avatar is without text or an image, it ought to be an icon. 
This example displays a small avatar.

<AvatarKitchen hideControls args={{
  ...defaultArgs,
  size: 'sm',
}} />

### Avatar with text

When an Avatar is used with a name, the initials are presented (limited to two letters).

<AvatarKitchen hideControls args={{
  ...defaultArgs,
  style: 'text',
  label: 'MM',
  size: 'md',
}} />

### Avatar with an Image and is Clickable

When an Avatar has an Image available, it is done so with a `--bg-image` CSS
custom property. This example shows as clickable as well as large.

<AvatarKitchen hideControls args={{
  ...defaultArgs,
  size: 'lg',
  style: 'image',
  clickable: true
}} />

## Developer Kitchen

Now it's your turn! Select options for the Avatar component and see how they can 
be combined in the final output.

<AvatarKitchen targetSelector={null} />
