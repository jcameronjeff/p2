import clsx from 'clsx';
import XMarkIcon from '@prism2/icons/interstate/x-mark.svg';

export const defaultArgs = {
  headerText: 'Slide Out Header',
  exampleWidth: '350px',
  paragraphCount: 1,
  pinFooter: false,
  position: 'right'
}

export const argTypes = {
  headerText: {
    label: 'Header',
    control: {
      type: 'text'
    }
  },
  exampleWidth: {
    control: {
      type: 'select',
      options: ['350px', '450px', 'full']
    }
  },
  paragraphCount: {
    control: {
      type: 'select',
      options: [1, 2, 5]
    }
  },
  pinFooter: {
    control: {
      type: 'boolean'
    }
  },
  position: {
    control: {
      type: 'select',
      options: ['left', 'right']
    }
  },
}

export const renderFn = ({ headerText, exampleWidth, paragraphCount, pinFooter, position }) => {
  return (
    <div className="fake-page-container overflow-hidden relative min-h-96">
      <div className="prose p-6">
        <Ipsum size={7}>Ipsum Content</Ipsum>
      </div>
      <div className="overlay"></div>
      <div className={clsx(
        'slideout', 
        `slideout-${position}`,
        pinFooter && 'slideout-pin-footer',
        exampleWidth === '350px' && 'w-[350px]',
        exampleWidth === '450px' && 'w-[450px]',
        exampleWidth === 'full' && 'w-full',
      )}>
        <div className="slideout-header">
          <div className="slideout-title">{headerText}</div>
          <XMarkIcon className="slideout-close" />
        </div>
        <div className="slideout-body">
          <Ipsum size={parseInt(paragraphCount)}>Ipsum Content</Ipsum>
        </div>
        <div className="slideout-footer">
          <button className="rounded-md p-4 leading-none bg-button-tertiary-rest hover:bg-button-tertiary-hover text-button-tertiary-rest">Button</button>
          <button className="rounded-md p-4 leading-none bg-button-primary-rest hover:bg-button-primary-hover text-button-primary-rest">Button</button>
        </div>
      </div>
    </div>
  )
}

export const SlideoutKitchen = (props) => (
  <Kitchen 
    args={defaultArgs} 
    argTypes={argTypes} 
    render={renderFn} 
    targetSelector=".slideout" 
    {...props}
  />
)

## Description

Like a modal window, a slide out panel is a child “window” which appears in front of the main content. 
They are an effective way to show and hide content that is only needed for short interactions.

## Ingredients

Links are made up of a combination of elements and classes. The styles will be 
made up of **Required**, **Selectable**, and **Optional** classes.

### Required

- `.slideout` - the content container with the header and footer
- `.slideout-header` - the lockup of the title and close buttons
- `.slideout-title` - header text
- `.slideout-close` - a close button fixed to the top right
- `.slideout-body` - can be any content
- `.slideout-footer` - expected to only have buttons as children

### Selectable

**position**

- `.slideout-left` - pins the Slideout to the left of the container
- `.slideout-right` - pins the Slideout to the right of the container

### Optional

- `.slideout-pin-footer` - attaches the footer to the bottom of the modal window

## Directions

The Slideout component is used in conjunction with the Overlay component.

The width of the Slideout is determined by the width of the content. Setting the
width of the Slideout can also be done at the instance level.

### Slideout anchored to the right

To attach the Slideout on the right of the, use the `slideout-right` class. 

<SlideoutKitchen hideControls args={{
  ...defaultArgs,
  position: 'right'
}} />

### Slideout anchored to the left

To attach the Slideout on the left of the, use the `slideout-left` class. 


<SlideoutKitchen hideControls args={{
  ...defaultArgs,
  position: 'left'
}} />


### Slideout anchored to the right with a pinned footer

To pin the footer, use the `slideout-pin-footer` class. The footer will automatically
pin to the bottom on small screens.

<SlideoutKitchen hideControls args={{
  ...defaultArgs,
  pinFooter: true,
  position: 'right'
}} />


## Developer Kitchen

Now it's your turn! Select options for the Slideout component and see how they can be combined in the final output.

<SlideoutKitchen targetSelector={null} />
